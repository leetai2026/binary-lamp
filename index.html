<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Binary Sigil</title>

<style>
body{
  text-align:center;
  font-family:sans-serif;
  background:#f4f4f4;
  padding:40px;
}

h1{
  font-size:48px;
}

.lang{
  cursor:pointer;
  font-weight:bold;
}

input{
  padding:10px;
  font-size:20px;
  width:200px;
  text-align:center;
}

button{
  padding:10px 20px;
  font-size:18px;
  background:black;
  color:white;
  border:none;
  cursor:pointer;
}

.grid{
  margin:40px auto;
  width:240px;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:20px;
}

/* é›»çƒ */
.bulb{
  width:40px;
  height:40px;
  border-radius:50%;
  background:#ddd;
  margin:auto;
  transition:0.3s;
}

.bulb.on{
  background:gold;
  box-shadow:0 0 20px gold;
}

#result{
  margin-top:40px;
  font-size:18px;
  max-width:500px;
  margin-left:auto;
  margin-right:auto;
}
</style>
</head>

<body>

<h1 id="title">Binary Sigil</h1>

<div id="guide"></div>
  
<div>
<span class="lang" onclick="setLang('en')">EN</span> |
<span class="lang" onclick="setLang('jp')">JP</span>
</div>
  
<br>

<input type="number" id="numberInput" placeholder="Enter number">
<button onclick="activate()">Light</button>

<div class="grid" id="grid"></div>

<div id="result"></div>

<script>
let currentLang="en";

/* é›»çƒç”Ÿæˆ */
const grid=document.getElementById("grid");
for(let i=0;i<16;i++){
  let div=document.createElement("div");
  div.className="bulb";
  grid.appendChild(div);
}

/* è¨€èªåˆ‡æ›¿ */

function setLang(lang){
  currentLang = lang;

  document.getElementById("title").textContent =
    lang==="jp"?"ãƒã‚¤ãƒŠãƒªãƒ¼ãƒ»ã‚·ã‚¸ãƒ«":"Binary Sigil";

  document.getElementById("guide").innerHTML =
    lang==="jp"
      ? "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª<br>å¥½ããª4æ¡ã®æ•°å­—ã‚’å…¥åŠ›ã—ã¦ã­<br>ã‚ãªãŸã®å†…ãªã‚‹ã‚·ã‚¸ãƒ«ãŒç¾ã‚Œã‚‹ã‚ã‚ˆ"
      : "ğŸ‡ºğŸ‡¸ English<br>Enter any 4-digit number<br>Your inner sigil will awaken";

  activate(); // å†æç”»
}

/* ã‚·ã‚¸ãƒ«æ–‡ç« ç”Ÿæˆ */
function generateMessage(num){

  const enTraits=[
    ["Inner","Outer"],
    ["Creative","Logical"],
    ["Calm","Dynamic"],
    ["Light-bound","Shadow-born"]
  ];

  const jpTraits=[
    ["å†…ãªã‚‹","å¤–å‘ã®"],
    ["å‰µé€ çš„ãª","è«–ç†çš„ãª"],
    ["é™ã‹ãª","èºå‹•ã™ã‚‹"],
    ["å…‰ã«å°ã‹ã‚ŒãŸ","å½±ã‚’å®¿ã™"]
  ];

  const traits=currentLang==="jp"?jpTraits:enTraits;

  let bin=num.toString(2).padStart(4,"0");
  let words=[];

  for(let i=0;i<4;i++){
    words.push(bin[i]==="1"?traits[i][1]:traits[i][0]);
  }

  if(currentLang==="jp"){
    return words.join("ãƒ»")+"å­˜åœ¨ã€‚å†…ãªã‚‹åŠ›ãŒå½¢ã‚’æˆã™ã€‚";
  }else{
    return words.join(", ")+" being. Power crystallizes from within.";
  }
}

/* å®Ÿè¡Œ */
function activate(){

  const input=document.getElementById("numberInput");
  const num=parseInt(input.value);

  if(isNaN(num)) return;

  let bin=num.toString(2).padStart(16,"0");
  const bulbs=document.querySelectorAll(".bulb");

  bulbs.forEach((b,i)=>{
    if(bin[i]==="1"){
      b.classList.add("on");
    }else{
      b.classList.remove("on");
    }
  });

  document.getElementById("result").textContent=
    generateMessage(num);
}
</script>

</body>
</html>

